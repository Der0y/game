<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<title>‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #e0f2f1;
    padding: 20px;
    text-align: center;
  }
  h1 {
    color: #388e3c;
  }
  #score {
    font-size: 24px;
    margin-bottom: 10px;
  }
  #character-section {
    margin-bottom: 20px;
  }
  .character {
    font-size: 40px;
    cursor: pointer;
    margin: 0 8px;
    padding: 5px 10px;
    border-radius: 8px;
    border: 2px solid transparent;
    transition: border-color 0.3s;
  }
  .character.selected {
    border-color: #f57c00;
  }
  #plots {
    display: flex;
    justify-content: center;
    gap: 50px;
    margin-bottom: 20px;
  }
  .plot {
    border: 2px solid #00796b;
    padding: 10px;
    width: 250px;
    min-height: 180px;
  }
  .plot-header {
    font-weight: bold;
    margin-bottom: 8px;
  }
  .plant-slot {
    border: 1px dashed #00695c;
    height: 30px;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 24px;
  }
  select {
    margin: 0 10px;
    padding: 5px;
    font-size: 16px;
  }
  #plant-buttons {
    margin-top: 10px;
  }
  button {
    margin: 0 8px;
    padding: 8px 12px;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    background-color: #66bb6a;
    color: #fff;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background-color: #81c784;
  }
  #message {
    margin-top: 15px;
    font-size: 18px;
    color: #d32f2f;
  }
  #game-over {
    display: none;
    margin-top: 30px;
  }
  #game-over h2 {
    color: #d32f2f;
  }
</style>
</head>
<body>

<h1>‡πÄ‡∏Å‡∏°‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å üå±</h1>
<div id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>

<div id="character-section">
  <div>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ : 
    <span class="character" data-char="üê∂">üê∂</span>
    <span class="character" data-char="üê±">üê±</span>
    <span class="character" data-char="ü¶ä">ü¶ä</span>
    <span class="character" data-char="üêª">üêª</span>
    <span class="character" data-char="üêº">üêº</span>
  </div>
  <div style="margin-top:10px;">‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: <span id="selected-character">--</span></div>
</div>

<div style="margin-top:20px;">
  <div>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å</div>
  <select id="plot-select">
    <option value="1">‡πÅ‡∏õ‡∏•‡∏á 1</option>
    <option value="2">‡πÅ‡∏õ‡∏•‡∏á 2</option>
  </select>
  <div style="margin-top:10px;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏±‡∏Å : 
    <button data-plant="ü•ï">ü•ï</button>
    <button data-plant="ü•¨">ü•¨</button>
    <button data-plant="üéã">üéã</button>
  </div>
  <div id="plant-buttons" style="margin-top:10px;">
    <button id="plant-btn">‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
  </div>
</div>

<div id="plots">
  <div class="plot" id="plot1">
    <div class="plot-header">‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà 1</div>
    <div class="plant-slot" data-plot="1" data-index="0"></div>
    <div class="plant-slot" data-plot="1" data-index="1"></div>
    <div class="plant-slot" data-plot="1" data-index="2"></div>
    <div class="plant-slot" data-plot="1" data-index="3"></div>
    <div class="plant-slot" data-plot="1" data-index="4"></div>
  </div>
  <div class="plot" id="plot2" style="margin-left:50px;">
    <div class="plot-header">‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà 2</div>
    <div class="plant-slot" data-plot="2" data-index="0"></div>
    <div class="plant-slot" data-plot="2" data-index="1"></div>
    <div class="plant-slot" data-plot="2" data-index="2"></div>
    <div class="plant-slot" data-plot="2" data-index="3"></div>
    <div class="plant-slot" data-plot="2" data-index="4"></div>
  </div>
</div>

<div id="message"></div>
<div id="game-over">
  <h2>‡πÄ‡∏Å‡∏°‡∏à‡∏ö! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span id="final-score"></span></h2>
  <button id="restart-btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà</button>
</div>

<script>
  // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô
  const characters = ["üê∂","üê±","ü¶ä","üêª","üêº"];
  let selectedCharacter = null;
  let score = 0;
  const maxScore = 100;

  // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏±‡∏Å‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á
  const plotsData = {
    1: [],
    2: []
  };

  const maxPlantsPerPlot = 5;
  const growDuration = 10000; // 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  let currentPlant = null;
  let currentPlotNumber = 1;
  let currentSelectPlant = null;
  let timers = [];

  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
  function updateScore() {
    document.getElementById('score').innerText = '‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ' + score;
    if (score >= maxScore) {
      endGame();
    }
  }

  function endGame() {
    document.getElementById('game-over').style.display = 'block';
    document.getElementById('final-score').innerText = score;
    // ‡∏•‡πâ‡∏≤‡∏á‡∏ú‡∏±‡∏Å‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á
    for(let p in plotsData){
      plotsData[p] = [];
    }
    // ‡∏´‡∏¢‡∏∏‡∏î Timer ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    clearAllTimers();
  }

  // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°
  function restart() {
    score = 0;
    updateScore();
    document.getElementById('game-over').style.display = 'none';
    // ‡∏•‡πâ‡∏≤‡∏á‡∏ú‡∏±‡∏Å
    document.querySelectorAll('.plant-slot').forEach(el => {
      el.innerHTML = '';
    });
    // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏±‡∏Å‡πÉ‡∏ô‡πÅ‡∏õ‡∏•‡∏á
    for(let p in plotsData) {
      plotsData[p] = [];
    }
    clearAllTimers();
    message.innerText = '';
  }

  // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå Timer ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  function clearAllTimers() {
    timers.forEach(t => clearTimeout(t));
    timers = [];
  }

  // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£
  document.querySelectorAll('.character').forEach(span => {
    span.onclick = () => {
      document.querySelectorAll('.character').forEach(s => s.classList.remove('selected'));
      span.classList.add('selected');
      selectedCharacter = span.dataset.char;
      document.getElementById('selected-character').innerText = selectedCharacter;
    };
  });

  // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏±‡∏Å
  document.querySelectorAll('button[data-plant]').forEach(btn => {
    btn.onclick = () => {
      currentSelectPlant = btn.dataset.plant;
      message.innerText = '‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏•‡∏π‡∏Å: ' + currentSelectPlant;
    };
  });

  // ‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å
  document.getElementById('plant-btn').onclick = () => {
    if (!selectedCharacter) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Å‡πà‡∏≠‡∏ô!');
      return;
    }
    if (!currentSelectPlant) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏õ‡∏•‡∏π‡∏Å!');
      return;
    }
    const plotNumber = document.getElementById('plot-select').value;
    const plotSlots = document.querySelectorAll(`#plot${plotNumber} .plant-slot`);
    // ‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏ß‡πà‡∏≤‡∏á
    let planted = false;
    for (let slot of plotSlots) {
      if (slot.innerHTML === '') {
        // ‡πÄ‡∏ä‡πá‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏±‡∏Å‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡πÅ‡∏õ‡∏•‡∏á
        if (plotsData[plotNumber].length >= maxPlantsPerPlot) {
          alert('‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß!');
          break;
        }
        // ‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å
        slot.innerHTML = currentSelectPlant + ' ' + selectedCharacter;
        // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        plotsData[plotNumber].push({plant: currentSelectPlant, slot: slot});
        // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï
        const t = setTimeout(() => {
          harvestPlant(plotNumber, slot);
        }, growDuration);
        timers.push(t);
        planted = true;
        break;
      }
    }
    if (!planted) {
      alert('‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ');
    }
  };

  // ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏ú‡∏±‡∏Å
  function harvestPlant(plotNumber, slot) {
    // ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ú‡∏±‡∏Å‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà
    if (slot.innerHTML !== '') {
      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      score++;
      updateScore();
      // ‡∏•‡∏ö‡∏ú‡∏±‡∏Å
      slot.innerHTML = '';
      // ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô array
      let index = plotsData[plotNumber].findIndex(p => p.slot === slot);
      if (index !== -1) {
        plotsData[plotNumber].splice(index,1);
      }
    }
  }

  // ‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏π‡∏Å
  document.querySelectorAll('.plant-slot').forEach(slot => {
    slot.onclick = () => {
      const plotNumber = slot.dataset.plot;
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ú‡∏±‡∏Å‡∏ã‡πâ‡∏≥‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ
      // ‡∏õ‡∏•‡∏π‡∏Å
      // ‡πÄ‡∏ä‡πá‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°
      if (plotsData[plotNumber].length >= maxPlantsPerPlot) {
        alert('‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß!');
        return;
      }
      // ‡∏õ‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å
      if (slot.innerHTML === '') {
        if (!selectedCharacter || !currentSelectPlant) {
          alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÅ‡∏•‡∏∞‡∏ú‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô!');
          return;
        }
        slot.innerHTML = currentSelectPlant + ' ' + selectedCharacter;
        plotsData[plotNumber].push({plant: currentSelectPlant, slot: slot});
        const t = setTimeout(() => {
          harvestPlant(plotNumber, slot);
        }, growDuration);
        timers.push(t);
      } else {
        alert('‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏õ‡∏•‡∏π‡∏Å‡πÅ‡∏•‡πâ‡∏ß!');
      }
    };
  });

  document.getElementById('restart-btn').onclick = restart;

  // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
  restart();

</script>
</body>
</html>